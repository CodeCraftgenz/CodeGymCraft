import json, os

OUT = os.path.join(os.path.dirname(__file__), "challenges")
os.makedirs(OUT, exist_ok=True)

def save(data):
    path = os.path.join(OUT, f"{data['id']}.json")
    with open(path, "w", encoding="utf-8") as f:
        json.dump(data, f, ensure_ascii=False, indent=2)

def html_starter(hint=""):
    return f'<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n    <meta charset="UTF-8">\n    <title>Desafio</title>\n</head>\n<body>\n    <!-- {hint} -->\n    \n</body>\n</html>'

def css_starter(html_body, hint=""):
    return f'<style>\n/* {hint} */\n\n</style>\n\n{html_body}'

# ===================== HTML CHALLENGES =====================
html_ini = [
    ("Estrutura HTML Básica", "Crie uma página HTML com a estrutura básica correta.", ["estrutura","básico"],
     html_starter("Crie a estrutura básica"),
     [{"type":"element-exists","selector":"html","errorMessage":"Elemento <html> não encontrado.","successMessage":"<html> encontrado!"},
      {"type":"attribute-value","selector":"html","attribute":"lang","value":"pt-BR","errorMessage":"Atributo lang='pt-BR' não encontrado em <html>.","successMessage":"lang='pt-BR' correto!"},
      {"type":"element-exists","selector":"head","errorMessage":"<head> não encontrado.","successMessage":"<head> encontrado!"},
      {"type":"element-exists","selector":"body","errorMessage":"<body> não encontrado.","successMessage":"<body> encontrado!"}]),
    ("Headings H1 a H3", "Crie títulos usando h1, h2 e h3.", ["headings","títulos"],
     html_starter("Adicione headings h1, h2 e h3"),
     [{"type":"element-exists","selector":"h1","errorMessage":"<h1> não encontrado.","successMessage":"<h1> ok!"},
      {"type":"element-exists","selector":"h2","errorMessage":"<h2> não encontrado.","successMessage":"<h2> ok!"},
      {"type":"element-exists","selector":"h3","errorMessage":"<h3> não encontrado.","successMessage":"<h3> ok!"}]),
    ("Parágrafos", "Adicione 3 parágrafos de texto.", ["parágrafo","texto"],
     html_starter("Adicione 3 parágrafos"),
     [{"type":"element-count","selector":"p","min":3,"errorMessage":"Adicione pelo menos 3 parágrafos <p>.","successMessage":"3+ parágrafos encontrados!"}]),
    ("Texto em Negrito e Itálico", "Use <strong> e <em> para formatar texto.", ["formatação","texto"],
     html_starter("Use strong e em"),
     [{"type":"element-exists","selector":"strong","errorMessage":"<strong> não encontrado.","successMessage":"<strong> ok!"},
      {"type":"element-exists","selector":"em","errorMessage":"<em> não encontrado.","successMessage":"<em> ok!"}]),
    ("Links Externos", "Crie um link que aponte para uma URL externa com target='_blank'.", ["links","navegação"],
     html_starter("Crie um link externo"),
     [{"type":"element-exists","selector":"a","errorMessage":"<a> não encontrado.","successMessage":"Link encontrado!"},
      {"type":"attribute-exists","selector":"a","attribute":"href","errorMessage":"Atributo href não encontrado.","successMessage":"href presente!"},
      {"type":"attribute-value","selector":"a","attribute":"target","value":"_blank","errorMessage":"target='_blank' não encontrado.","successMessage":"target correto!"}]),
    ("Imagens com Alt", "Adicione uma imagem com atributo alt descritivo.", ["imagem","acessibilidade"],
     html_starter("Adicione uma imagem com alt"),
     [{"type":"element-exists","selector":"img","errorMessage":"<img> não encontrado.","successMessage":"Imagem encontrada!"},
      {"type":"attribute-exists","selector":"img","attribute":"src","errorMessage":"src não encontrado.","successMessage":"src presente!"},
      {"type":"attribute-exists","selector":"img","attribute":"alt","errorMessage":"alt não encontrado. Sempre use alt para acessibilidade.","successMessage":"alt presente!"}]),
    ("Lista Não-Ordenada", "Crie uma lista não-ordenada com 4 itens.", ["lista","ul"],
     html_starter("Crie uma lista ul com 4 li"),
     [{"type":"element-exists","selector":"ul","errorMessage":"<ul> não encontrado.","successMessage":"<ul> ok!"},
      {"type":"element-count","selector":"ul > li","min":4,"errorMessage":"Adicione pelo menos 4 <li>.","successMessage":"4+ itens!"}]),
    ("Lista Ordenada", "Crie uma lista ordenada com 5 passos.", ["lista","ol"],
     html_starter("Crie uma lista ol com 5 li"),
     [{"type":"element-exists","selector":"ol","errorMessage":"<ol> não encontrado.","successMessage":"<ol> ok!"},
      {"type":"element-count","selector":"ol > li","min":5,"errorMessage":"Adicione pelo menos 5 <li>.","successMessage":"5+ itens!"}]),
    ("Lista de Definição", "Crie uma lista de definição com 3 termos.", ["lista","dl"],
     html_starter("Crie dl com dt e dd"),
     [{"type":"element-exists","selector":"dl","errorMessage":"<dl> não encontrado.","successMessage":"<dl> ok!"},
      {"type":"element-count","selector":"dt","min":3,"errorMessage":"Adicione pelo menos 3 <dt>.","successMessage":"3+ termos!"},
      {"type":"element-count","selector":"dd","min":3,"errorMessage":"Adicione pelo menos 3 <dd>.","successMessage":"3+ definições!"}]),
    ("Tabela Simples", "Crie uma tabela com 3 linhas e 2 colunas.", ["tabela","dados"],
     html_starter("Crie uma tabela 3x2"),
     [{"type":"element-exists","selector":"table","errorMessage":"<table> não encontrado.","successMessage":"<table> ok!"},
      {"type":"element-count","selector":"tr","min":3,"errorMessage":"Adicione pelo menos 3 <tr>.","successMessage":"3+ linhas!"},
      {"type":"element-count","selector":"td","min":6,"errorMessage":"Adicione pelo menos 6 <td>.","successMessage":"6+ células!"}]),
    ("Formulário com Input Text", "Crie um formulário com campo de nome.", ["formulário","input"],
     html_starter("Crie form com input text"),
     [{"type":"element-exists","selector":"form","errorMessage":"<form> não encontrado.","successMessage":"<form> ok!"},
      {"type":"element-exists","selector":"input[type='text']","errorMessage":"input type='text' não encontrado.","successMessage":"Input text ok!"}]),
    ("Formulário com Textarea", "Adicione um textarea para mensagem.", ["formulário","textarea"],
     html_starter("Adicione um textarea"),
     [{"type":"element-exists","selector":"form","errorMessage":"<form> não encontrado.","successMessage":"<form> ok!"},
      {"type":"element-exists","selector":"textarea","errorMessage":"<textarea> não encontrado.","successMessage":"Textarea ok!"}]),
    ("Select e Options", "Crie um dropdown com 4 opções.", ["formulário","select"],
     html_starter("Crie select com options"),
     [{"type":"element-exists","selector":"select","errorMessage":"<select> não encontrado.","successMessage":"<select> ok!"},
      {"type":"element-count","selector":"option","min":4,"errorMessage":"Adicione pelo menos 4 <option>.","successMessage":"4+ opções!"}]),
    ("Radio Buttons", "Crie 3 radio buttons com mesmo name.", ["formulário","radio"],
     html_starter("Crie radio buttons"),
     [{"type":"element-count","selector":"input[type='radio']","min":3,"errorMessage":"Adicione pelo menos 3 radio buttons.","successMessage":"3+ radios!"},
      {"type":"attribute-exists","selector":"input[type='radio']","attribute":"name","errorMessage":"Atributo name não encontrado.","successMessage":"name presente!"}]),
    ("Checkboxes", "Crie 3 checkboxes com labels.", ["formulário","checkbox"],
     html_starter("Crie checkboxes com labels"),
     [{"type":"element-count","selector":"input[type='checkbox']","min":3,"errorMessage":"Adicione pelo menos 3 checkboxes.","successMessage":"3+ checkboxes!"},
      {"type":"element-count","selector":"label","min":3,"errorMessage":"Adicione labels para os checkboxes.","successMessage":"Labels ok!"}]),
    ("Botão Submit", "Crie um formulário com botão de envio.", ["formulário","botão"],
     html_starter("Crie form com button submit"),
     [{"type":"element-exists","selector":"form","errorMessage":"<form> não encontrado.","successMessage":"<form> ok!"},
      {"type":"element-exists","selector":"button[type='submit']","errorMessage":"button type='submit' não encontrado. Alternativamente use input type='submit'.","successMessage":"Botão submit ok!"}]),
    ("Divs e Estrutura", "Crie 3 divs com classes diferentes.", ["div","estrutura"],
     html_starter("Crie 3 divs com classes"),
     [{"type":"element-count","selector":"div","min":3,"errorMessage":"Adicione pelo menos 3 <div>.","successMessage":"3+ divs!"},
      {"type":"attribute-exists","selector":"div","attribute":"class","errorMessage":"Adicione classes às divs.","successMessage":"Classes presentes!"}]),
    ("Span Inline", "Use span para destacar palavras dentro de parágrafos.", ["span","inline"],
     html_starter("Use span dentro de parágrafos"),
     [{"type":"element-exists","selector":"p","errorMessage":"<p> não encontrado.","successMessage":"<p> ok!"},
      {"type":"element-exists","selector":"p span","errorMessage":"<span> dentro de <p> não encontrado.","successMessage":"Span inline ok!"}]),
    ("Comentários HTML", "Adicione comentários explicativos no código.", ["comentários","boas práticas"],
     html_starter("Adicione comentários"),
     [{"type":"element-exists","selector":"h1","errorMessage":"Adicione ao menos um <h1>.","successMessage":"<h1> ok!"},
      {"type":"element-exists","selector":"p","errorMessage":"Adicione ao menos um <p>.","successMessage":"<p> ok!"}]),
    ("Meta Viewport", "Configure o viewport para responsividade.", ["meta","responsivo"],
     '<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n    <meta charset="UTF-8">\n    <!-- Adicione meta viewport aqui -->\n    <title>Responsivo</title>\n</head>\n<body>\n    <h1>Página Responsiva</h1>\n</body>\n</html>',
     [{"type":"element-exists","selector":"meta[name='viewport']","errorMessage":"meta viewport não encontrado.","successMessage":"Viewport configurado!"},
      {"type":"attribute-exists","selector":"meta[name='viewport']","attribute":"content","errorMessage":"Atributo content do viewport não encontrado.","successMessage":"Content presente!"}]),
    ("Title e Meta Description", "Configure title e meta description.", ["meta","SEO"],
     '<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n    <meta charset="UTF-8">\n    <!-- Configure title e meta description -->\n</head>\n<body>\n    <p>Conteúdo</p>\n</body>\n</html>',
     [{"type":"element-exists","selector":"title","errorMessage":"<title> não encontrado.","successMessage":"Title ok!"},
      {"type":"element-exists","selector":"meta[name='description']","errorMessage":"meta description não encontrado.","successMessage":"Meta description ok!"}]),
    ("Âncoras de Navegação", "Crie links internos usando id e href=#.", ["âncora","navegação"],
     html_starter("Crie âncoras internas"),
     [{"type":"element-exists","selector":"a[href^='#']","errorMessage":"Link âncora (href=#) não encontrado.","successMessage":"Âncora ok!"},
      {"type":"attribute-exists","selector":"h2","attribute":"id","errorMessage":"id não encontrado em heading.","successMessage":"ID no heading ok!"}]),
    ("Imagem como Link", "Coloque uma imagem dentro de um link.", ["imagem","link"],
     html_starter("Coloque img dentro de a"),
     [{"type":"element-exists","selector":"a img","errorMessage":"Imagem dentro de link não encontrada.","successMessage":"Imagem-link ok!"},
      {"type":"attribute-exists","selector":"a img","attribute":"alt","errorMessage":"Alt na imagem não encontrado.","successMessage":"Alt presente!"}]),
    ("Lista Aninhada", "Crie uma lista com sub-listas.", ["lista","aninhada"],
     html_starter("Crie lista aninhada"),
     [{"type":"element-exists","selector":"ul","errorMessage":"<ul> não encontrado.","successMessage":"<ul> ok!"},
      {"type":"element-exists","selector":"ul ul","errorMessage":"Sub-lista não encontrada.","successMessage":"Sub-lista ok!"},
      {"type":"element-count","selector":"li","min":6,"errorMessage":"Adicione pelo menos 6 <li> no total.","successMessage":"6+ itens!"}]),
    ("Tabela com Cabeçalho", "Crie tabela com thead e th.", ["tabela","cabeçalho"],
     html_starter("Crie tabela com thead/th"),
     [{"type":"element-exists","selector":"table","errorMessage":"<table> não encontrado.","successMessage":"<table> ok!"},
      {"type":"element-exists","selector":"thead","errorMessage":"<thead> não encontrado.","successMessage":"<thead> ok!"},
      {"type":"element-count","selector":"th","min":2,"errorMessage":"Adicione pelo menos 2 <th>.","successMessage":"Headers ok!"}]),
    ("Label e For", "Associe labels a inputs usando for/id.", ["formulário","acessibilidade"],
     html_starter("Crie labels com for"),
     [{"type":"element-count","selector":"label","min":2,"errorMessage":"Adicione pelo menos 2 labels.","successMessage":"Labels ok!"},
      {"type":"attribute-exists","selector":"label","attribute":"for","errorMessage":"Atributo for não encontrado.","successMessage":"For presente!"},
      {"type":"attribute-exists","selector":"input","attribute":"id","errorMessage":"id no input não encontrado.","successMessage":"ID no input ok!"}]),
    ("Placeholder em Inputs", "Use placeholder para dar dicas.", ["formulário","placeholder"],
     html_starter("Adicione placeholders"),
     [{"type":"element-count","selector":"input","min":2,"errorMessage":"Adicione pelo menos 2 inputs.","successMessage":"Inputs ok!"},
      {"type":"attribute-exists","selector":"input","attribute":"placeholder","errorMessage":"placeholder não encontrado.","successMessage":"Placeholder ok!"}]),
    ("Atributo Required", "Torne campos obrigatórios.", ["formulário","validação"],
     html_starter("Use atributo required"),
     [{"type":"element-exists","selector":"form","errorMessage":"<form> não encontrado.","successMessage":"<form> ok!"},
      {"type":"element-exists","selector":"input[required]","errorMessage":"Input required não encontrado.","successMessage":"Required ok!"}]),
    ("Favicon", "Adicione um favicon à página.", ["favicon","head"],
     '<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n    <meta charset="UTF-8">\n    <!-- Adicione favicon aqui -->\n    <title>Favicon</title>\n</head>\n<body>\n    <h1>Meu Site</h1>\n</body>\n</html>',
     [{"type":"element-exists","selector":"link[rel='icon']","errorMessage":"link rel='icon' não encontrado.","successMessage":"Favicon ok!"},
      {"type":"attribute-exists","selector":"link[rel='icon']","attribute":"href","errorMessage":"href do favicon não encontrado.","successMessage":"Href ok!"}]),
    ("Entidades HTML", "Use entidades para caracteres especiais.", ["entidades","caracteres"],
     html_starter("Use entidades HTML como &amp; &lt; &gt;"),
     [{"type":"element-exists","selector":"p","errorMessage":"<p> não encontrado.","successMessage":"<p> ok!"}]),
]

for i, (title, desc, tags, starter, rules) in enumerate(html_ini, 1):
    save({"id":f"html-ini-{i:03d}","track":"html","title":title,"description":desc,
          "starterCode":starter,"tags":tags,"difficulty":"Iniciante",
          "validatorType":"html-rules","validatorConfig":{"rules":rules}})

# HTML Intermediário
html_int = [
    ("Elementos Semânticos", "Use header, nav, main, footer.", ["semântica","estrutura"],
     html_starter("Use elementos semânticos"),
     [{"type":"element-exists","selector":"header","errorMessage":"<header> não encontrado.","successMessage":"<header> ok!"},
      {"type":"element-exists","selector":"nav","errorMessage":"<nav> não encontrado.","successMessage":"<nav> ok!"},
      {"type":"element-exists","selector":"main","errorMessage":"<main> não encontrado.","successMessage":"<main> ok!"},
      {"type":"element-exists","selector":"footer","errorMessage":"<footer> não encontrado.","successMessage":"<footer> ok!"}]),
    ("Article e Section", "Use article e section corretamente.", ["semântica","article"],
     html_starter("Use article e section"),
     [{"type":"element-exists","selector":"article","errorMessage":"<article> não encontrado.","successMessage":"<article> ok!"},
      {"type":"element-exists","selector":"section","errorMessage":"<section> não encontrado.","successMessage":"<section> ok!"}]),
    ("Elemento Aside", "Crie conteúdo lateral com aside.", ["semântica","aside"],
     html_starter("Use aside para conteúdo lateral"),
     [{"type":"element-exists","selector":"main","errorMessage":"<main> não encontrado.","successMessage":"<main> ok!"},
      {"type":"element-exists","selector":"aside","errorMessage":"<aside> não encontrado.","successMessage":"<aside> ok!"}]),
    ("Fieldset e Legend", "Agrupe campos com fieldset e legend.", ["formulário","fieldset"],
     html_starter("Use fieldset e legend"),
     [{"type":"element-exists","selector":"fieldset","errorMessage":"<fieldset> não encontrado.","successMessage":"<fieldset> ok!"},
      {"type":"element-exists","selector":"legend","errorMessage":"<legend> não encontrado.","successMessage":"<legend> ok!"},
      {"type":"element-count","selector":"fieldset input","min":2,"errorMessage":"Adicione inputs dentro do fieldset.","successMessage":"Inputs no fieldset ok!"}]),
    ("Input Types Avançados", "Use email, number, date.", ["formulário","input types"],
     html_starter("Use diferentes input types"),
     [{"type":"element-exists","selector":"input[type='email']","errorMessage":"input type='email' não encontrado.","successMessage":"Email ok!"},
      {"type":"element-exists","selector":"input[type='number']","errorMessage":"input type='number' não encontrado.","successMessage":"Number ok!"},
      {"type":"element-exists","selector":"input[type='date']","errorMessage":"input type='date' não encontrado.","successMessage":"Date ok!"}]),
    ("Datalist Autocomplete", "Crie autocomplete com datalist.", ["formulário","datalist"],
     html_starter("Use datalist para autocomplete"),
     [{"type":"element-exists","selector":"datalist","errorMessage":"<datalist> não encontrado.","successMessage":"<datalist> ok!"},
      {"type":"element-count","selector":"datalist option","min":3,"errorMessage":"Adicione pelo menos 3 options.","successMessage":"Options ok!"},
      {"type":"attribute-exists","selector":"input","attribute":"list","errorMessage":"Atributo list no input não encontrado.","successMessage":"List attribute ok!"}]),
    ("Details e Summary", "Crie conteúdo colapsável.", ["interativo","details"],
     html_starter("Use details e summary"),
     [{"type":"element-exists","selector":"details","errorMessage":"<details> não encontrado.","successMessage":"<details> ok!"},
      {"type":"element-exists","selector":"summary","errorMessage":"<summary> não encontrado.","successMessage":"<summary> ok!"}]),
    ("Figure e Figcaption", "Use figure para imagem com legenda.", ["imagem","figure"],
     html_starter("Use figure e figcaption"),
     [{"type":"element-exists","selector":"figure","errorMessage":"<figure> não encontrado.","successMessage":"<figure> ok!"},
      {"type":"element-exists","selector":"figcaption","errorMessage":"<figcaption> não encontrado.","successMessage":"<figcaption> ok!"},
      {"type":"element-exists","selector":"figure img","errorMessage":"img dentro de figure não encontrado.","successMessage":"Img ok!"}]),
    ("Elemento Audio", "Adicione um player de áudio.", ["mídia","audio"],
     html_starter("Adicione elemento audio"),
     [{"type":"element-exists","selector":"audio","errorMessage":"<audio> não encontrado.","successMessage":"<audio> ok!"},
      {"type":"attribute-exists","selector":"audio","attribute":"controls","errorMessage":"Atributo controls não encontrado.","successMessage":"Controls ok!"},
      {"type":"element-exists","selector":"audio source","errorMessage":"<source> dentro de audio não encontrado.","successMessage":"Source ok!"}]),
    ("Elemento Video", "Adicione um player de vídeo.", ["mídia","video"],
     html_starter("Adicione elemento video"),
     [{"type":"element-exists","selector":"video","errorMessage":"<video> não encontrado.","successMessage":"<video> ok!"},
      {"type":"attribute-exists","selector":"video","attribute":"controls","errorMessage":"Controls não encontrado.","successMessage":"Controls ok!"},
      {"type":"element-exists","selector":"video source","errorMessage":"Source não encontrado.","successMessage":"Source ok!"}]),
    ("Iframe", "Incorpore conteúdo externo com iframe.", ["incorporação","iframe"],
     html_starter("Adicione iframe"),
     [{"type":"element-exists","selector":"iframe","errorMessage":"<iframe> não encontrado.","successMessage":"<iframe> ok!"},
      {"type":"attribute-exists","selector":"iframe","attribute":"src","errorMessage":"src não encontrado.","successMessage":"Src ok!"},
      {"type":"attribute-exists","selector":"iframe","attribute":"title","errorMessage":"title para acessibilidade não encontrado.","successMessage":"Title ok!"}]),
    ("Tabela com Colspan", "Use colspan para mesclar colunas.", ["tabela","colspan"],
     html_starter("Use colspan na tabela"),
     [{"type":"element-exists","selector":"table","errorMessage":"<table> não encontrado.","successMessage":"<table> ok!"},
      {"type":"element-exists","selector":"[colspan]","errorMessage":"Atributo colspan não encontrado.","successMessage":"Colspan ok!"}]),
    ("Tabela com Rowspan", "Use rowspan para mesclar linhas.", ["tabela","rowspan"],
     html_starter("Use rowspan na tabela"),
     [{"type":"element-exists","selector":"table","errorMessage":"<table> não encontrado.","successMessage":"<table> ok!"},
      {"type":"element-exists","selector":"[rowspan]","errorMessage":"Atributo rowspan não encontrado.","successMessage":"Rowspan ok!"}]),
    ("Pattern Validation", "Use pattern para validação de regex.", ["formulário","validação"],
     html_starter("Use atributo pattern"),
     [{"type":"element-exists","selector":"input[pattern]","errorMessage":"Input com pattern não encontrado.","successMessage":"Pattern ok!"},
      {"type":"attribute-exists","selector":"input[pattern]","attribute":"title","errorMessage":"Title descritivo para o pattern não encontrado.","successMessage":"Title ok!"}]),
    ("Elemento Output", "Use output para resultado de cálculo.", ["formulário","output"],
     html_starter("Use elemento output"),
     [{"type":"element-exists","selector":"output","errorMessage":"<output> não encontrado.","successMessage":"<output> ok!"},
      {"type":"element-exists","selector":"form","errorMessage":"<form> não encontrado.","successMessage":"<form> ok!"}]),
    ("Progress Bar", "Crie uma barra de progresso.", ["interativo","progress"],
     html_starter("Use elemento progress"),
     [{"type":"element-exists","selector":"progress","errorMessage":"<progress> não encontrado.","successMessage":"<progress> ok!"},
      {"type":"attribute-exists","selector":"progress","attribute":"value","errorMessage":"Atributo value não encontrado.","successMessage":"Value ok!"},
      {"type":"attribute-exists","selector":"progress","attribute":"max","errorMessage":"Atributo max não encontrado.","successMessage":"Max ok!"}]),
    ("Elemento Meter", "Use meter para medição.", ["interativo","meter"],
     html_starter("Use elemento meter"),
     [{"type":"element-exists","selector":"meter","errorMessage":"<meter> não encontrado.","successMessage":"<meter> ok!"},
      {"type":"attribute-exists","selector":"meter","attribute":"value","errorMessage":"Value não encontrado.","successMessage":"Value ok!"}]),
    ("Time e Datetime", "Use time com datetime.", ["semântica","time"],
     html_starter("Use elemento time"),
     [{"type":"element-exists","selector":"time","errorMessage":"<time> não encontrado.","successMessage":"<time> ok!"},
      {"type":"attribute-exists","selector":"time","attribute":"datetime","errorMessage":"datetime não encontrado.","successMessage":"Datetime ok!"}]),
    ("Abbreviation", "Use abbr com title.", ["semântica","abbr"],
     html_starter("Use elemento abbr"),
     [{"type":"element-exists","selector":"abbr","errorMessage":"<abbr> não encontrado.","successMessage":"<abbr> ok!"},
      {"type":"attribute-exists","selector":"abbr","attribute":"title","errorMessage":"title não encontrado.","successMessage":"Title ok!"}]),
    ("Blockquote", "Use blockquote com cite.", ["semântica","citação"],
     html_starter("Use blockquote e cite"),
     [{"type":"element-exists","selector":"blockquote","errorMessage":"<blockquote> não encontrado.","successMessage":"<blockquote> ok!"},
      {"type":"element-exists","selector":"cite","errorMessage":"<cite> não encontrado.","successMessage":"<cite> ok!"}]),
    ("Code e Pre", "Exiba código com pre e code.", ["semântica","código"],
     html_starter("Use pre e code"),
     [{"type":"element-exists","selector":"pre","errorMessage":"<pre> não encontrado.","successMessage":"<pre> ok!"},
      {"type":"element-exists","selector":"code","errorMessage":"<code> não encontrado.","successMessage":"<code> ok!"}]),
    ("Mapa de Imagem", "Crie image map com area.", ["imagem","map"],
     html_starter("Crie mapa de imagem"),
     [{"type":"element-exists","selector":"map","errorMessage":"<map> não encontrado.","successMessage":"<map> ok!"},
      {"type":"element-exists","selector":"area","errorMessage":"<area> não encontrado.","successMessage":"<area> ok!"},
      {"type":"attribute-exists","selector":"img","attribute":"usemap","errorMessage":"usemap não encontrado na img.","successMessage":"Usemap ok!"}]),
    ("Template Element", "Use template para conteúdo reutilizável.", ["template","avançado"],
     html_starter("Use elemento template"),
     [{"type":"element-exists","selector":"template","errorMessage":"<template> não encontrado.","successMessage":"<template> ok!"}]),
    ("Data Attributes", "Use data-* para dados custom.", ["data","atributos"],
     html_starter("Use data-attributes"),
     [{"type":"element-exists","selector":"[data-id]","errorMessage":"data-id não encontrado.","successMessage":"Data-id ok!"}]),
    ("ARIA Role", "Use role para acessibilidade.", ["acessibilidade","ARIA"],
     html_starter("Use roles ARIA"),
     [{"type":"element-exists","selector":"[role='navigation']","errorMessage":"role='navigation' não encontrado.","successMessage":"Role navigation ok!"},
      {"type":"element-exists","selector":"[role='main']","errorMessage":"role='main' não encontrado.","successMessage":"Role main ok!"}]),
    ("Aria-label", "Use aria-label para descrever elementos.", ["acessibilidade","ARIA"],
     html_starter("Use aria-label"),
     [{"type":"element-exists","selector":"[aria-label]","errorMessage":"aria-label não encontrado.","successMessage":"Aria-label ok!"}]),
    ("Tabindex", "Controle a ordem de foco com tabindex.", ["acessibilidade","tabindex"],
     html_starter("Use tabindex"),
     [{"type":"element-exists","selector":"[tabindex]","errorMessage":"tabindex não encontrado.","successMessage":"Tabindex ok!"}]),
    ("Picture Element", "Use picture para imagens responsivas.", ["responsivo","picture"],
     html_starter("Use picture e source"),
     [{"type":"element-exists","selector":"picture","errorMessage":"<picture> não encontrado.","successMessage":"<picture> ok!"},
      {"type":"element-exists","selector":"picture source","errorMessage":"<source> dentro de picture não encontrado.","successMessage":"Source ok!"},
      {"type":"element-exists","selector":"picture img","errorMessage":"<img> dentro de picture não encontrado.","successMessage":"Img fallback ok!"}]),
    ("Srcset", "Use srcset para diferentes resoluções.", ["responsivo","srcset"],
     html_starter("Use srcset na img"),
     [{"type":"element-exists","selector":"img[srcset]","errorMessage":"img com srcset não encontrado.","successMessage":"Srcset ok!"}]),
    ("Dialog Element", "Crie um modal com dialog.", ["interativo","dialog"],
     html_starter("Use elemento dialog"),
     [{"type":"element-exists","selector":"dialog","errorMessage":"<dialog> não encontrado.","successMessage":"<dialog> ok!"},
      {"type":"element-exists","selector":"button","errorMessage":"Botão para abrir dialog não encontrado.","successMessage":"Botão ok!"}]),
]

for i, (title, desc, tags, starter, rules) in enumerate(html_int, 1):
    save({"id":f"html-int-{i:03d}","track":"html","title":title,"description":desc,
          "starterCode":starter,"tags":tags,"difficulty":"Intermediario",
          "validatorType":"html-rules","validatorConfig":{"rules":rules}})

# HTML Avançado
html_adv = [
    ("Blog Semântico", "Crie layout completo de blog.", ["layout","semântica"],
     html_starter("Crie um layout de blog completo"),
     [{"type":"element-exists","selector":"header nav","errorMessage":"Nav no header não encontrado.","successMessage":"Nav ok!"},
      {"type":"element-exists","selector":"main article","errorMessage":"Article no main não encontrado.","successMessage":"Article ok!"},
      {"type":"element-exists","selector":"aside","errorMessage":"Aside não encontrado.","successMessage":"Aside ok!"},
      {"type":"element-exists","selector":"footer","errorMessage":"Footer não encontrado.","successMessage":"Footer ok!"}]),
    ("Formulário Multi-step", "Crie formulário com múltiplos fieldsets.", ["formulário","multi-step"],
     html_starter("Crie formulário com 3 fieldsets"),
     [{"type":"element-count","selector":"fieldset","min":3,"errorMessage":"Adicione pelo menos 3 fieldsets.","successMessage":"3+ fieldsets!"},
      {"type":"element-count","selector":"legend","min":3,"errorMessage":"Adicione legends aos fieldsets.","successMessage":"Legends ok!"}]),
    ("Tabela Complexa", "Tabela com caption, colgroup, thead, tbody, tfoot.", ["tabela","complexa"],
     html_starter("Crie tabela completa"),
     [{"type":"element-exists","selector":"caption","errorMessage":"<caption> não encontrado.","successMessage":"Caption ok!"},
      {"type":"element-exists","selector":"thead","errorMessage":"<thead> não encontrado.","successMessage":"Thead ok!"},
      {"type":"element-exists","selector":"tbody","errorMessage":"<tbody> não encontrado.","successMessage":"Tbody ok!"},
      {"type":"element-exists","selector":"tfoot","errorMessage":"<tfoot> não encontrado.","successMessage":"Tfoot ok!"}]),
    ("SVG Inline Básico", "Crie gráfico SVG inline.", ["SVG","gráficos"],
     html_starter("Crie SVG inline"),
     [{"type":"element-exists","selector":"svg","errorMessage":"<svg> não encontrado.","successMessage":"SVG ok!"},
      {"type":"element-exists","selector":"svg circle, svg rect, svg line","errorMessage":"Adicione formas ao SVG.","successMessage":"Formas ok!"}]),
    ("SVG com Path", "Crie SVG usando path.", ["SVG","path"],
     html_starter("Crie SVG com path"),
     [{"type":"element-exists","selector":"svg","errorMessage":"<svg> não encontrado.","successMessage":"SVG ok!"},
      {"type":"element-exists","selector":"svg path","errorMessage":"<path> não encontrado.","successMessage":"Path ok!"}]),
    ("Microdata Schema", "Use microdata schema.org.", ["SEO","microdata"],
     html_starter("Use itemscope e itemprop"),
     [{"type":"element-exists","selector":"[itemscope]","errorMessage":"itemscope não encontrado.","successMessage":"Itemscope ok!"},
      {"type":"element-exists","selector":"[itemprop]","errorMessage":"itemprop não encontrado.","successMessage":"Itemprop ok!"}]),
    ("Open Graph Tags", "Adicione meta Open Graph.", ["SEO","OpenGraph"],
     '<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n    <meta charset="UTF-8">\n    <!-- Adicione meta OG tags -->\n    <title>Open Graph</title>\n</head>\n<body><p>Conteúdo</p></body>\n</html>',
     [{"type":"element-exists","selector":"meta[property='og:title']","errorMessage":"og:title não encontrado.","successMessage":"OG title ok!"},
      {"type":"element-exists","selector":"meta[property='og:description']","errorMessage":"og:description não encontrado.","successMessage":"OG description ok!"},
      {"type":"element-exists","selector":"meta[property='og:type']","errorMessage":"og:type não encontrado.","successMessage":"OG type ok!"}]),
    ("Web Manifest", "Adicione link para manifest.", ["PWA","manifest"],
     '<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n    <meta charset="UTF-8">\n    <!-- Adicione manifest link -->\n    <title>PWA</title>\n</head>\n<body><h1>App</h1></body>\n</html>',
     [{"type":"element-exists","selector":"link[rel='manifest']","errorMessage":"link rel='manifest' não encontrado.","successMessage":"Manifest ok!"}]),
    ("Formulário Acessível", "Formulário completo com ARIA.", ["acessibilidade","formulário"],
     html_starter("Crie formulário acessível completo"),
     [{"type":"element-exists","selector":"form","errorMessage":"<form> não encontrado.","successMessage":"Form ok!"},
      {"type":"element-count","selector":"label","min":3,"errorMessage":"Adicione labels.","successMessage":"Labels ok!"},
      {"type":"element-exists","selector":"[aria-required]","errorMessage":"aria-required não encontrado.","successMessage":"Aria-required ok!"}]),
    ("Nav Acessível", "Navegação completa com ARIA.", ["acessibilidade","nav"],
     html_starter("Crie nav acessível"),
     [{"type":"element-exists","selector":"nav[aria-label]","errorMessage":"Nav com aria-label não encontrado.","successMessage":"Nav ok!"},
      {"type":"element-count","selector":"nav a","min":4,"errorMessage":"Adicione pelo menos 4 links.","successMessage":"Links ok!"}]),
    ("Data Attributes Avançado", "Estrutura complexa com data-*.", ["data","estrutura"],
     html_starter("Use data-attributes para cards"),
     [{"type":"element-count","selector":"[data-category]","min":3,"errorMessage":"3+ elementos com data-category.","successMessage":"Data-category ok!"}]),
    ("Colgroup", "Use colgroup para estilizar colunas.", ["tabela","colgroup"],
     html_starter("Use colgroup"),
     [{"type":"element-exists","selector":"colgroup","errorMessage":"<colgroup> não encontrado.","successMessage":"Colgroup ok!"},
      {"type":"element-count","selector":"col","min":2,"errorMessage":"Adicione elementos col.","successMessage":"Col ok!"}]),
    ("Landmark Roles", "Use todos os landmark roles.", ["acessibilidade","landmarks"],
     html_starter("Use landmark roles"),
     [{"type":"element-exists","selector":"[role='banner']","errorMessage":"role='banner' não encontrado.","successMessage":"Banner ok!"},
      {"type":"element-exists","selector":"[role='contentinfo']","errorMessage":"role='contentinfo' não encontrado.","successMessage":"Contentinfo ok!"}]),
    ("Product Listing", "Layout de e-commerce semântico.", ["e-commerce","layout"],
     html_starter("Crie listing de produtos"),
     [{"type":"element-count","selector":"article","min":3,"errorMessage":"Adicione 3+ articles para produtos.","successMessage":"Products ok!"},
      {"type":"element-exists","selector":"article img","errorMessage":"Imagens nos products não encontradas.","successMessage":"Imgs ok!"}]),
    ("Contato Acessível", "Formulário de contato completo.", ["formulário","contato"],
     html_starter("Crie formulário de contato acessível"),
     [{"type":"element-exists","selector":"form","errorMessage":"<form> não encontrado.","successMessage":"Form ok!"},
      {"type":"element-exists","selector":"input[type='email']","errorMessage":"Input email não encontrado.","successMessage":"Email ok!"},
      {"type":"element-exists","selector":"textarea","errorMessage":"Textarea não encontrado.","successMessage":"Textarea ok!"},
      {"type":"element-exists","selector":"button[type='submit']","errorMessage":"Submit não encontrado.","successMessage":"Submit ok!"}]),
    ("Portfolio Layout", "Layout semântico de portfolio.", ["layout","portfolio"],
     html_starter("Crie layout de portfolio"),
     [{"type":"element-exists","selector":"header","errorMessage":"Header não encontrado.","successMessage":"Header ok!"},
      {"type":"element-count","selector":"section","min":3,"errorMessage":"Adicione 3+ sections.","successMessage":"Sections ok!"},
      {"type":"element-exists","selector":"footer","errorMessage":"Footer não encontrado.","successMessage":"Footer ok!"}]),
    ("FAQ Acessível", "FAQ com details/summary.", ["FAQ","acessibilidade"],
     html_starter("Crie FAQ com details"),
     [{"type":"element-count","selector":"details","min":5,"errorMessage":"Adicione 5+ perguntas.","successMessage":"5+ FAQs!"},
      {"type":"element-count","selector":"summary","min":5,"errorMessage":"Adicione summaries.","successMessage":"Summaries ok!"}]),
    ("Dashboard Layout", "Layout de dashboard com sections.", ["layout","dashboard"],
     html_starter("Crie layout de dashboard"),
     [{"type":"element-exists","selector":"header","errorMessage":"Header não encontrado.","successMessage":"Header ok!"},
      {"type":"element-exists","selector":"nav","errorMessage":"Nav não encontrado.","successMessage":"Nav ok!"},
      {"type":"element-exists","selector":"main","errorMessage":"Main não encontrado.","successMessage":"Main ok!"},
      {"type":"element-count","selector":"section","min":3,"errorMessage":"3+ sections no main.","successMessage":"Sections ok!"}]),
    ("Multi-language", "Página com atributos lang.", ["i18n","lang"],
     html_starter("Use lang em diferentes elementos"),
     [{"type":"attribute-value","selector":"html","attribute":"lang","value":"pt-BR","errorMessage":"lang principal não é pt-BR.","successMessage":"Lang ok!"},
      {"type":"element-exists","selector":"[lang='en']","errorMessage":"Elemento com lang='en' não encontrado.","successMessage":"Lang en ok!"}]),
    ("Página Completa", "Página com todas as best practices.", ["completo","best practices"],
     html_starter("Crie página com todas as best practices"),
     [{"type":"element-exists","selector":"meta[name='viewport']","errorMessage":"Viewport não encontrado.","successMessage":"Viewport ok!"},
      {"type":"element-exists","selector":"header","errorMessage":"Header não encontrado.","successMessage":"Header ok!"},
      {"type":"element-exists","selector":"main","errorMessage":"Main não encontrado.","successMessage":"Main ok!"},
      {"type":"element-exists","selector":"footer","errorMessage":"Footer não encontrado.","successMessage":"Footer ok!"},
      {"type":"element-exists","selector":"nav","errorMessage":"Nav não encontrado.","successMessage":"Nav ok!"}]),
]

for i, (title, desc, tags, starter, rules) in enumerate(html_adv, 1):
    save({"id":f"html-adv-{i:03d}","track":"html","title":title,"description":desc,
          "starterCode":starter,"tags":tags,"difficulty":"Avancado",
          "validatorType":"html-rules","validatorConfig":{"rules":rules}})

print(f"HTML: {len(html_ini)} ini + {len(html_int)} int + {len(html_adv)} adv = {len(html_ini)+len(html_int)+len(html_adv)}")
