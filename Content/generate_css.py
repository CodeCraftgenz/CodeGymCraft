import json, os

OUT = os.path.join(os.path.dirname(__file__), "challenges")
os.makedirs(OUT, exist_ok=True)

def save(data):
    with open(os.path.join(OUT, f"{data['id']}.json"), "w", encoding="utf-8") as f:
        json.dump(data, f, ensure_ascii=False, indent=2)

def css(html, hint=""):
    return f'<style>\n/* {hint} */\n\n</style>\n\n{html}'

css_ini = [
    ("Cor de Texto","Altere a cor do texto de um parágrafo para azul.",["cor","text"],
     css('<p class="texto">Olhe minha cor!</p>',"Altere a cor do .texto"),
     [{"type":"css-rule-exists","selector":".texto","property":"color","errorMessage":"Defina color em .texto.","successMessage":"Color definido!"}]),
    ("Cor de Fundo","Defina cor de fundo.",["background","cor"],
     css('<div class="caixa">Caixa colorida</div>',"Defina background-color"),
     [{"type":"css-rule-exists","selector":".caixa","property":"background-color","errorMessage":"Defina background-color em .caixa.","successMessage":"Background ok!"}]),
    ("Tamanho de Fonte","Altere font-size.",["fonte","tamanho"],
     css('<h1 class="titulo">Grande</h1>',"Altere font-size"),
     [{"type":"css-rule-exists","selector":".titulo","property":"font-size","errorMessage":"Defina font-size em .titulo.","successMessage":"Font-size ok!"}]),
    ("Família de Fonte","Use font-family.",["fonte","família"],
     css('<p class="elegante">Texto elegante</p>',"Use font-family"),
     [{"type":"css-rule-exists","selector":".elegante","property":"font-family","errorMessage":"Defina font-family.","successMessage":"Font-family ok!"}]),
    ("Peso da Fonte","Use font-weight.",["fonte","peso"],
     css('<p class="negrito">Texto forte</p>',"Use font-weight"),
     [{"type":"css-rule-exists","selector":".negrito","property":"font-weight","errorMessage":"Defina font-weight.","successMessage":"Font-weight ok!"}]),
    ("Alinhamento de Texto","Use text-align center.",["texto","alinhamento"],
     css('<h2 class="centro">Centralizado</h2>',"Centralize o texto"),
     [{"type":"css-property","selector":".centro","property":"text-align","value":"center","errorMessage":"text-align deve ser center.","successMessage":"Centralizado!"}]),
    ("Text Decoration","Remova sublinhado de links.",["texto","decoration"],
     css('<a class="link" href="#">Sem sublinhado</a>',"Remova decoration"),
     [{"type":"css-property","selector":".link","property":"text-decoration","value":"none","errorMessage":"text-decoration deve ser none.","successMessage":"Sem sublinhado!"}]),
    ("Largura e Altura","Defina width e height.",["box","dimensões"],
     css('<div class="box">Box</div>',"Defina width e height"),
     [{"type":"css-rule-exists","selector":".box","property":"width","errorMessage":"Defina width.","successMessage":"Width ok!"},
      {"type":"css-rule-exists","selector":".box","property":"height","errorMessage":"Defina height.","successMessage":"Height ok!"}]),
    ("Margem","Use margin.",["box","margem"],
     css('<div class="card">Card</div>',"Use margin"),
     [{"type":"css-rule-exists","selector":".card","property":"margin","errorMessage":"Defina margin.","successMessage":"Margin ok!"}]),
    ("Preenchimento","Use padding.",["box","padding"],
     css('<div class="padded">Espaçado</div>',"Use padding"),
     [{"type":"css-rule-exists","selector":".padded","property":"padding","errorMessage":"Defina padding.","successMessage":"Padding ok!"}]),
    ("Borda Simples","Adicione border.",["borda","estilo"],
     css('<div class="bordered">Borda</div>',"Adicione border"),
     [{"type":"css-rule-exists","selector":".bordered","property":"border","errorMessage":"Defina border.","successMessage":"Border ok!"}]),
    ("Border Radius","Arredonde cantos.",["borda","radius"],
     css('<div class="round">Arredondado</div>',"Use border-radius"),
     [{"type":"css-rule-exists","selector":".round","property":"border-radius","errorMessage":"Defina border-radius.","successMessage":"Radius ok!"}]),
    ("Display Block vs Inline","Mude display.",["display","layout"],
     css('<span class="bloco">Span como bloco</span>',"Mude para display block"),
     [{"type":"css-property","selector":".bloco","property":"display","value":"block","errorMessage":"display deve ser block.","successMessage":"Display block!"}]),
    ("Estilizar Lista","Remova bullets da lista.",["lista","estilo"],
     css('<ul class="clean"><li>Item 1</li><li>Item 2</li></ul>',"Remova list-style"),
     [{"type":"css-property","selector":".clean","property":"list-style","value":"none","errorMessage":"list-style deve ser none.","successMessage":"Sem bullets!"}]),
    ("Background Image","Use background conceitos.",["background","imagem"],
     css('<div class="hero" style="height:200px">Hero</div>',"Use background"),
     [{"type":"css-rule-exists","selector":".hero","property":"background","errorMessage":"Defina background.","successMessage":"Background ok!"}]),
    ("Opacidade","Use opacity.",["visual","opacidade"],
     css('<div class="fade">Transparente</div>',"Use opacity"),
     [{"type":"css-rule-exists","selector":".fade","property":"opacity","errorMessage":"Defina opacity.","successMessage":"Opacity ok!"}]),
    ("Cursor Pointer","Mude o cursor.",["cursor","interação"],
     css('<div class="clicavel">Clique aqui</div>',"Use cursor pointer"),
     [{"type":"css-property","selector":".clicavel","property":"cursor","value":"pointer","errorMessage":"cursor deve ser pointer.","successMessage":"Cursor pointer!"}]),
    ("Seletor de Classe","Estilize por classe.",["seletor","classe"],
     css('<p class="destaque">Destaque</p><p>Normal</p>',"Estilize .destaque"),
     [{"type":"css-rule-exists","selector":".destaque","property":"color","errorMessage":"Defina color em .destaque.","successMessage":"Classe estilizada!"}]),
    ("Seletor de ID","Estilize por ID.",["seletor","id"],
     css('<h1 id="principal">Principal</h1>',"Estilize #principal"),
     [{"type":"css-rule-exists","selector":"#principal","property":"color","errorMessage":"Defina color em #principal.","successMessage":"ID estilizado!"}]),
    ("Seletor de Elemento","Estilize todos os p.",["seletor","elemento"],
     css('<p>Um</p><p>Dois</p><p>Três</p>',"Estilize todos os p"),
     [{"type":"css-rule-exists","selector":"p","property":"color","errorMessage":"Defina color em p.","successMessage":"Elementos estilizados!"}]),
    ("Seletor Descendente","Use seletor descendente.",["seletor","descendente"],
     css('<div class="container"><p>Filho</p></div><p>Fora</p>',"Estilize .container p"),
     [{"type":"css-rule-exists","selector":".container p","property":"color","errorMessage":"Defina color em .container p.","successMessage":"Descendente ok!"}]),
    ("Pseudo-classe Hover","Mude cor no hover.",["pseudo-classe","hover"],
     css('<button class="btn">Hover me</button>',"Use :hover"),
     [{"type":"css-rule-exists","selector":".btn:hover","property":"background-color","errorMessage":"Defina background-color em .btn:hover.","successMessage":"Hover ok!"}]),
    ("First-child","Estilize primeiro filho.",["pseudo-classe","first-child"],
     css('<ul><li>Primeiro</li><li>Segundo</li><li>Terceiro</li></ul>',"Use :first-child"),
     [{"type":"css-rule-exists","selector":"li:first-child","property":"font-weight","errorMessage":"Defina font-weight em li:first-child.","successMessage":"First-child ok!"}]),
    ("Estilizar Links","Estilize estados de links.",["links","estados"],
     css('<a class="nav-link" href="#">Link</a>',"Estilize link e hover"),
     [{"type":"css-rule-exists","selector":".nav-link","property":"color","errorMessage":"Defina color em .nav-link.","successMessage":"Link color ok!"},
      {"type":"css-rule-exists","selector":".nav-link:hover","property":"color","errorMessage":"Defina color em .nav-link:hover.","successMessage":"Hover ok!"}]),
    ("Box Shadow","Adicione sombra.",["shadow","visual"],
     css('<div class="card" style="padding:20px">Card</div>',"Use box-shadow"),
     [{"type":"css-rule-exists","selector":".card","property":"box-shadow","errorMessage":"Defina box-shadow.","successMessage":"Shadow ok!"}]),
    ("Text Transform","Use uppercase.",["texto","transform"],
     css('<h3 class="upper">maiúsculo</h3>',"Use text-transform"),
     [{"type":"css-property","selector":".upper","property":"text-transform","value":"uppercase","errorMessage":"text-transform deve ser uppercase.","successMessage":"Uppercase!"}]),
    ("Letter Spacing","Ajuste espaçamento.",["texto","spacing"],
     css('<p class="espacado">Espaçado</p>',"Use letter-spacing"),
     [{"type":"css-rule-exists","selector":".espacado","property":"letter-spacing","errorMessage":"Defina letter-spacing.","successMessage":"Spacing ok!"}]),
    ("Overflow Hidden","Controle overflow.",["overflow","layout"],
     css('<div class="container" style="height:50px"><p>Texto longo que vai ultrapassar o container definido</p></div>',"Use overflow hidden"),
     [{"type":"css-property","selector":".container","property":"overflow","value":"hidden","errorMessage":"overflow deve ser hidden.","successMessage":"Overflow hidden!"}]),
    ("Max Width","Use max-width.",["dimensão","responsivo"],
     css('<div class="content">Conteúdo limitado</div>',"Use max-width"),
     [{"type":"css-rule-exists","selector":".content","property":"max-width","errorMessage":"Defina max-width.","successMessage":"Max-width ok!"}]),
    ("Unidades CSS","Use rem para font-size.",["unidades","rem"],
     css('<p class="rem-text">Texto em rem</p>',"Use rem"),
     [{"type":"css-rule-exists","selector":".rem-text","property":"font-size","errorMessage":"Defina font-size com rem.","successMessage":"Rem ok!"}]),
]

for i,(t,d,tg,s,r) in enumerate(css_ini,1):
    save({"id":f"css-ini-{i:03d}","track":"css","title":t,"description":d,"starterCode":s,
          "tags":tg,"difficulty":"Iniciante","validatorType":"css-rules","validatorConfig":{"rules":r}})

css_int = [
    ("Flexbox Container","Use display flex.",["flexbox","layout"],
     css('<div class="flex-container"><div class="item">1</div><div class="item">2</div><div class="item">3</div></div>',"Use display flex"),
     [{"type":"css-property","selector":".flex-container","property":"display","value":"flex","errorMessage":"display deve ser flex.","successMessage":"Flex ok!"}]),
    ("Flex Direction","Mude direção do flex.",["flexbox","direction"],
     css('<div class="col"><div>A</div><div>B</div></div>',"Use flex-direction column"),
     [{"type":"css-property","selector":".col","property":"display","value":"flex","errorMessage":"display flex necessário.","successMessage":"Flex ok!"},
      {"type":"css-property","selector":".col","property":"flex-direction","value":"column","errorMessage":"flex-direction deve ser column.","successMessage":"Column ok!"}]),
    ("Justify Content","Centralize com justify-content.",["flexbox","justify"],
     css('<div class="center-flex"><div>Item</div></div>',"Use justify-content center"),
     [{"type":"css-property","selector":".center-flex","property":"display","value":"flex","errorMessage":"Precisa display flex.","successMessage":"Flex ok!"},
      {"type":"css-property","selector":".center-flex","property":"justify-content","value":"center","errorMessage":"justify-content deve ser center.","successMessage":"Centralizado!"}]),
    ("Align Items","Alinhe verticalmente.",["flexbox","align"],
     css('<div class="v-center" style="height:200px"><div>Centro</div></div>',"Use align-items center"),
     [{"type":"css-property","selector":".v-center","property":"display","value":"flex","errorMessage":"Precisa display flex.","successMessage":"Flex ok!"},
      {"type":"css-property","selector":".v-center","property":"align-items","value":"center","errorMessage":"align-items deve ser center.","successMessage":"Alinhado!"}]),
    ("Flex Wrap","Permita quebra de linha.",["flexbox","wrap"],
     css('<div class="wrap"><div class="item" style="width:200px">1</div><div class="item" style="width:200px">2</div><div class="item" style="width:200px">3</div></div>',"Use flex-wrap"),
     [{"type":"css-property","selector":".wrap","property":"display","value":"flex","errorMessage":"Precisa flex.","successMessage":"Flex!"},
      {"type":"css-property","selector":".wrap","property":"flex-wrap","value":"wrap","errorMessage":"flex-wrap deve ser wrap.","successMessage":"Wrap ok!"}]),
    ("Flex Grow","Use flex-grow.",["flexbox","grow"],
     css('<div class="grow-container"><div class="grow-item">Cresce</div><div>Fixo</div></div>',"Use flex-grow"),
     [{"type":"css-property","selector":".grow-container","property":"display","value":"flex","errorMessage":"Precisa flex.","successMessage":"Flex!"},
      {"type":"css-rule-exists","selector":".grow-item","property":"flex-grow","errorMessage":"Defina flex-grow.","successMessage":"Grow ok!"}]),
    ("Grid Básico","Use display grid.",["grid","layout"],
     css('<div class="grid"><div>1</div><div>2</div><div>3</div><div>4</div></div>',"Use display grid"),
     [{"type":"css-property","selector":".grid","property":"display","value":"grid","errorMessage":"display deve ser grid.","successMessage":"Grid ok!"}]),
    ("Grid Template Columns","Defina colunas.",["grid","columns"],
     css('<div class="cols"><div>1</div><div>2</div><div>3</div></div>',"Use grid-template-columns"),
     [{"type":"css-property","selector":".cols","property":"display","value":"grid","errorMessage":"Precisa grid.","successMessage":"Grid!"},
      {"type":"css-rule-exists","selector":".cols","property":"grid-template-columns","errorMessage":"Defina grid-template-columns.","successMessage":"Columns ok!"}]),
    ("Grid Template Rows","Defina linhas.",["grid","rows"],
     css('<div class="rows"><div>1</div><div>2</div></div>',"Use grid-template-rows"),
     [{"type":"css-property","selector":".rows","property":"display","value":"grid","errorMessage":"Precisa grid.","successMessage":"Grid!"},
      {"type":"css-rule-exists","selector":".rows","property":"grid-template-rows","errorMessage":"Defina grid-template-rows.","successMessage":"Rows ok!"}]),
    ("Grid Gap","Adicione espaçamento.",["grid","gap"],
     css('<div class="gap-grid"><div>1</div><div>2</div><div>3</div><div>4</div></div>',"Use gap"),
     [{"type":"css-property","selector":".gap-grid","property":"display","value":"grid","errorMessage":"Precisa grid.","successMessage":"Grid!"},
      {"type":"css-rule-exists","selector":".gap-grid","property":"gap","errorMessage":"Defina gap.","successMessage":"Gap ok!"}]),
    ("Grid Area","Nomeie áreas.",["grid","area"],
     css('<div class="layout"><div class="header">H</div><div class="sidebar">S</div><div class="content">C</div></div>',"Use grid-template-areas"),
     [{"type":"css-property","selector":".layout","property":"display","value":"grid","errorMessage":"Precisa grid.","successMessage":"Grid!"},
      {"type":"css-rule-exists","selector":".layout","property":"grid-template-areas","errorMessage":"Defina grid-template-areas.","successMessage":"Areas ok!"}]),
    ("Position Relative","Use position relative.",["position","layout"],
     css('<div class="relative"><span class="badge">!</span>Conteúdo</div>',"Use position relative"),
     [{"type":"css-property","selector":".relative","property":"position","value":"relative","errorMessage":"position deve ser relative.","successMessage":"Relative ok!"}]),
    ("Position Absolute","Use position absolute.",["position","layout"],
     css('<div class="parent" style="position:relative;height:200px"><div class="child">Absoluto</div></div>',"Use position absolute"),
     [{"type":"css-property","selector":".child","property":"position","value":"absolute","errorMessage":"position deve ser absolute.","successMessage":"Absolute ok!"}]),
    ("Position Fixed","Use position fixed.",["position","fixo"],
     css('<div class="fixed-bar">Barra fixa</div><div style="height:2000px">Scroll</div>',"Use position fixed"),
     [{"type":"css-property","selector":".fixed-bar","property":"position","value":"fixed","errorMessage":"position deve ser fixed.","successMessage":"Fixed ok!"}]),
    ("Z-index","Controle sobreposição.",["z-index","camadas"],
     css('<div class="behind" style="position:relative">Atrás</div><div class="front" style="position:relative">Frente</div>',"Use z-index"),
     [{"type":"css-rule-exists","selector":".front","property":"z-index","errorMessage":"Defina z-index em .front.","successMessage":"Z-index ok!"}]),
    ("Transitions","Adicione transição suave.",["transição","animação"],
     css('<button class="smooth">Hover</button>',"Use transition"),
     [{"type":"css-rule-exists","selector":".smooth","property":"transition","errorMessage":"Defina transition.","successMessage":"Transition ok!"},
      {"type":"css-rule-exists","selector":".smooth:hover","property":"background-color","errorMessage":"Mude cor no hover.","successMessage":"Hover ok!"}]),
    ("Transform Translate","Mova elemento.",["transform","translate"],
     css('<div class="mover">Mover</div>',"Use transform translate"),
     [{"type":"css-rule-exists","selector":".mover","property":"transform","errorMessage":"Defina transform.","successMessage":"Transform ok!"}]),
    ("Transform Rotate","Rotacione elemento.",["transform","rotate"],
     css('<div class="rotated">45°</div>',"Use transform rotate"),
     [{"type":"css-rule-exists","selector":".rotated","property":"transform","errorMessage":"Defina transform rotate.","successMessage":"Rotate ok!"}]),
    ("Media Query","Crie media query básica.",["responsivo","media query"],
     css('<div class="responsive">Responsivo</div>',"Use @media"),
     [{"type":"css-rule-exists","selector":".responsive","property":"font-size","errorMessage":"Defina font-size base.","successMessage":"Base ok!"}]),
    ("Pseudo-element Before","Use ::before.",["pseudo-element","before"],
     css('<p class="quote">Citação importante</p>',"Use ::before"),
     [{"type":"css-rule-exists","selector":".quote::before","property":"content","errorMessage":"Defina content em ::before.","successMessage":"Before ok!"}]),
    ("Pseudo-element After","Use ::after.",["pseudo-element","after"],
     css('<a class="external" href="#">Link externo</a>',"Use ::after"),
     [{"type":"css-rule-exists","selector":".external::after","property":"content","errorMessage":"Defina content em ::after.","successMessage":"After ok!"}]),
    ("CSS Variables","Use variáveis CSS.",["variáveis","custom properties"],
     css('<div class="themed"><h2>Título</h2><p>Texto</p></div>',"Use --cor-primaria"),
     [{"type":"css-rule-exists","selector":":root","property":"--cor-primaria","errorMessage":"Defina --cor-primaria em :root.","successMessage":"Variável ok!"}]),
    ("Gradiente Linear","Crie gradiente.",["gradiente","visual"],
     css('<div class="gradient" style="height:100px">Gradiente</div>',"Use linear-gradient"),
     [{"type":"css-rule-exists","selector":".gradient","property":"background","errorMessage":"Defina background com gradient.","successMessage":"Gradient ok!"}]),
    ("Gradiente Radial","Crie gradiente radial.",["gradiente","radial"],
     css('<div class="radial" style="height:100px">Radial</div>',"Use radial-gradient"),
     [{"type":"css-rule-exists","selector":".radial","property":"background","errorMessage":"Defina background.","successMessage":"Radial ok!"}]),
    ("Box Sizing","Use border-box.",["box model","sizing"],
     css('<div class="border-box" style="width:200px;padding:20px;border:2px solid">Box</div>',"Use box-sizing"),
     [{"type":"css-property","selector":".border-box","property":"box-sizing","value":"border-box","errorMessage":"box-sizing deve ser border-box.","successMessage":"Border-box ok!"}]),
    ("Calc Function","Use calc().",["calc","funções"],
     css('<div class="calc-width">Calculado</div>',"Use calc() para width"),
     [{"type":"css-rule-exists","selector":".calc-width","property":"width","errorMessage":"Defina width com calc().","successMessage":"Calc ok!"}]),
    ("Media Queries Avançadas","Use min e max-width.",["responsivo","breakpoints"],
     css('<div class="adapt">Adaptável</div>',"Use media queries com breakpoints"),
     [{"type":"css-rule-exists","selector":".adapt","property":"padding","errorMessage":"Defina padding base.","successMessage":"Base ok!"}]),
    ("Flex Order","Mude ordem dos itens.",["flexbox","order"],
     css('<div class="order-flex"><div class="first">1</div><div class="second">2</div><div class="third">3</div></div>',"Use order"),
     [{"type":"css-property","selector":".order-flex","property":"display","value":"flex","errorMessage":"Precisa flex.","successMessage":"Flex!"},
      {"type":"css-rule-exists","selector":".third","property":"order","errorMessage":"Defina order em .third.","successMessage":"Order ok!"}]),
    ("Combinador de Seletores","Use > + ~.",["seletores","combinadores"],
     css('<div class="parent"><p>Filho direto</p><div><p>Neto</p></div></div>',"Use seletor filho direto >"),
     [{"type":"css-rule-exists","selector":".parent > p","property":"color","errorMessage":"Use seletor .parent > p.","successMessage":"Combinador ok!"}]),
    ("Not Pseudo-classe","Use :not().",["pseudo-classe","not"],
     css('<ul><li class="active">Ativo</li><li>Normal</li><li>Normal</li></ul>',"Use :not(.active)"),
     [{"type":"css-rule-exists","selector":"li:not(.active)","property":"opacity","errorMessage":"Defina opacity em li:not(.active).","successMessage":"Not ok!"}]),
]

for i,(t,d,tg,s,r) in enumerate(css_int,1):
    save({"id":f"css-int-{i:03d}","track":"css","title":t,"description":d,"starterCode":s,
          "tags":tg,"difficulty":"Intermediario","validatorType":"css-rules","validatorConfig":{"rules":r}})

css_adv = [
    ("Animação Keyframes","Crie animação com @keyframes.",["animação","keyframes"],
     css('<div class="pulse">Pulsar</div>',"Use @keyframes"),
     [{"type":"css-rule-exists","selector":".pulse","property":"animation","errorMessage":"Defina animation.","successMessage":"Animation ok!"}]),
    ("Animação Multi-step","Animação com múltiplos steps.",["animação","steps"],
     css('<div class="bounce" style="width:50px;height:50px;background:blue;border-radius:50%">●</div>',"Crie animação bounce"),
     [{"type":"css-rule-exists","selector":".bounce","property":"animation","errorMessage":"Defina animation.","successMessage":"Animation ok!"}]),
    ("Grid Responsivo","Grid com auto-fit.",["grid","responsivo"],
     css('<div class="auto-grid"><div class="card">1</div><div class="card">2</div><div class="card">3</div><div class="card">4</div><div class="card">5</div><div class="card">6</div></div>',"Use auto-fit e minmax"),
     [{"type":"css-property","selector":".auto-grid","property":"display","value":"grid","errorMessage":"Precisa grid.","successMessage":"Grid!"},
      {"type":"css-rule-exists","selector":".auto-grid","property":"grid-template-columns","errorMessage":"Defina columns com auto-fit.","successMessage":"Auto-fit ok!"}]),
    ("Auto-fit e Minmax","Use minmax para flex grid.",["grid","minmax"],
     css('<div class="minmax-grid"><div>A</div><div>B</div><div>C</div><div>D</div></div>',"Use minmax()"),
     [{"type":"css-property","selector":".minmax-grid","property":"display","value":"grid","errorMessage":"Precisa grid.","successMessage":"Grid!"},
      {"type":"css-rule-exists","selector":".minmax-grid","property":"grid-template-columns","errorMessage":"Defina columns.","successMessage":"Columns ok!"}]),
    ("Holy Grail Layout","Layout clássico com Grid.",["grid","layout"],
     css('<div class="holy"><header class="hg-header">H</header><nav class="hg-nav">N</nav><main class="hg-main">M</main><aside class="hg-aside">A</aside><footer class="hg-footer">F</footer></div>',"Crie holy grail layout"),
     [{"type":"css-property","selector":".holy","property":"display","value":"grid","errorMessage":"Precisa grid.","successMessage":"Grid!"},
      {"type":"css-rule-exists","selector":".holy","property":"grid-template-areas","errorMessage":"Defina grid-template-areas.","successMessage":"Areas ok!"}]),
    ("Layout Flexbox","Layout responsivo com flex.",["flexbox","responsivo"],
     css('<div class="flex-layout"><nav class="fl-nav">Nav</nav><main class="fl-main">Main</main><aside class="fl-side">Side</aside></div>',"Layout com flexbox"),
     [{"type":"css-property","selector":".flex-layout","property":"display","value":"flex","errorMessage":"Precisa flex.","successMessage":"Flex!"},
      {"type":"css-rule-exists","selector":".fl-main","property":"flex-grow","errorMessage":"Main deve crescer.","successMessage":"Grow ok!"}]),
    ("Dark Mode CSS","Implemente dark mode com variáveis.",["dark mode","variáveis"],
     css('<div class="theme-container"><h2>Dark Mode</h2><p>Texto adaptável</p></div>',"Use variáveis para dark/light"),
     [{"type":"css-rule-exists","selector":":root","property":"--bg-color","errorMessage":"Defina --bg-color em :root.","successMessage":"Variável bg ok!"},
      {"type":"css-rule-exists","selector":":root","property":"--text-color","errorMessage":"Defina --text-color.","successMessage":"Variável text ok!"}]),
    ("Clip-path","Use clip-path.",["clip-path","visual"],
     css('<div class="clipped" style="width:200px;height:200px;background:purple">Cortado</div>',"Use clip-path"),
     [{"type":"css-rule-exists","selector":".clipped","property":"clip-path","errorMessage":"Defina clip-path.","successMessage":"Clip-path ok!"}]),
    ("Blend Mode","Use mix-blend-mode.",["blend","visual"],
     css('<div style="background:blue;padding:20px"><h1 class="blend" style="color:white">Blend</h1></div>',"Use mix-blend-mode"),
     [{"type":"css-rule-exists","selector":".blend","property":"mix-blend-mode","errorMessage":"Defina mix-blend-mode.","successMessage":"Blend ok!"}]),
    ("Filter CSS","Use filter.",["filter","visual"],
     css('<img class="filtered" src="data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'100\' height=\'100\'><rect fill=\'red\' width=\'100\' height=\'100\'/></svg>" alt="test">',"Use filter"),
     [{"type":"css-rule-exists","selector":".filtered","property":"filter","errorMessage":"Defina filter.","successMessage":"Filter ok!"}]),
    ("Scroll Snap","Use scroll snap.",["scroll","snap"],
     css('<div class="snap-container" style="height:200px;overflow-y:scroll"><div class="snap-item" style="height:200px">1</div><div class="snap-item" style="height:200px">2</div></div>',"Use scroll-snap"),
     [{"type":"css-rule-exists","selector":".snap-container","property":"scroll-snap-type","errorMessage":"Defina scroll-snap-type.","successMessage":"Snap ok!"}]),
    ("Aspect Ratio","Use aspect-ratio.",["aspect-ratio","dimensão"],
     css('<div class="ratio-box" style="width:200px;background:teal">16:9</div>',"Use aspect-ratio"),
     [{"type":"css-rule-exists","selector":".ratio-box","property":"aspect-ratio","errorMessage":"Defina aspect-ratio.","successMessage":"Ratio ok!"}]),
    ("Object Fit","Use object-fit.",["object-fit","imagem"],
     css('<img class="fit" style="width:200px;height:200px" src="data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'300\' height=\'100\'><rect fill=\'green\' width=\'300\' height=\'100\'/></svg>" alt="test">',"Use object-fit"),
     [{"type":"css-property","selector":".fit","property":"object-fit","value":"cover","errorMessage":"object-fit deve ser cover.","successMessage":"Cover ok!"}]),
    ("Counter CSS","Use CSS counters.",["counter","lista"],
     css('<div class="counted"><h3>Item</h3><h3>Item</h3><h3>Item</h3></div>',"Use counter-reset e counter-increment"),
     [{"type":"css-rule-exists","selector":".counted","property":"counter-reset","errorMessage":"Defina counter-reset.","successMessage":"Counter ok!"}]),
    ("Custom Scrollbar","Estilize scrollbar.",["scrollbar","visual"],
     css('<div class="custom-scroll" style="height:100px;overflow-y:scroll"><p style="height:300px">Scroll</p></div>',"Estilize ::-webkit-scrollbar"),
     [{"type":"css-rule-exists","selector":".custom-scroll::-webkit-scrollbar","property":"width","errorMessage":"Defina width em ::-webkit-scrollbar.","successMessage":"Scrollbar ok!"}]),
    ("Card Hover Effect","Card com hover elaborado.",["hover","card"],
     css('<div class="hover-card" style="padding:20px;border:1px solid #ccc">Card interativo</div>',"Crie hover effect completo"),
     [{"type":"css-rule-exists","selector":".hover-card","property":"transition","errorMessage":"Defina transition.","successMessage":"Transition ok!"},
      {"type":"css-rule-exists","selector":".hover-card:hover","property":"transform","errorMessage":"Defina transform no hover.","successMessage":"Hover transform ok!"},
      {"type":"css-rule-exists","selector":".hover-card:hover","property":"box-shadow","errorMessage":"Defina box-shadow no hover.","successMessage":"Hover shadow ok!"}]),
    ("Navbar Responsiva","Navbar sem JavaScript.",["navbar","responsivo"],
     css('<nav class="navbar"><a class="logo">Logo</a><input type="checkbox" id="toggle" class="toggle"><label for="toggle" class="hamburger">☰</label><div class="nav-links"><a>Home</a><a>About</a><a>Contact</a></div></nav>',"Crie navbar responsiva"),
     [{"type":"css-property","selector":".navbar","property":"display","value":"flex","errorMessage":"Navbar precisa flex.","successMessage":"Flex ok!"},
      {"type":"css-rule-exists","selector":".toggle","property":"display","errorMessage":"Controle visibilidade do toggle.","successMessage":"Toggle ok!"}]),
    ("Tooltip CSS","Tooltip com pseudo-elements.",["tooltip","pseudo-element"],
     css('<span class="tooltip" data-tip="Dica aqui!">Passe o mouse</span>',"Crie tooltip com ::after"),
     [{"type":"css-rule-exists","selector":".tooltip:hover::after","property":"content","errorMessage":"Defina content em tooltip hover ::after.","successMessage":"Tooltip ok!"}]),
    ("Loading Spinner","Spinner com animação.",["animação","spinner"],
     css('<div class="spinner"></div>',"Crie spinner animado"),
     [{"type":"css-rule-exists","selector":".spinner","property":"animation","errorMessage":"Defina animation no spinner.","successMessage":"Animation ok!"},
      {"type":"css-rule-exists","selector":".spinner","property":"border-radius","errorMessage":"Spinner precisa border-radius.","successMessage":"Radius ok!"}]),
    ("Galeria Responsiva","Layout de galeria.",["galeria","responsivo"],
     css('<div class="gallery"><div class="gallery-item">1</div><div class="gallery-item">2</div><div class="gallery-item">3</div><div class="gallery-item">4</div><div class="gallery-item">5</div><div class="gallery-item">6</div></div>',"Crie galeria responsiva"),
     [{"type":"css-property","selector":".gallery","property":"display","value":"grid","errorMessage":"Precisa grid.","successMessage":"Grid!"},
      {"type":"css-rule-exists","selector":".gallery","property":"grid-template-columns","errorMessage":"Defina columns.","successMessage":"Columns ok!"},
      {"type":"css-rule-exists","selector":".gallery","property":"gap","errorMessage":"Defina gap.","successMessage":"Gap ok!"}]),
]

for i,(t,d,tg,s,r) in enumerate(css_adv,1):
    save({"id":f"css-adv-{i:03d}","track":"css","title":t,"description":d,"starterCode":s,
          "tags":tg,"difficulty":"Avancado","validatorType":"css-rules","validatorConfig":{"rules":r}})

print(f"CSS: {len(css_ini)} ini + {len(css_int)} int + {len(css_adv)} adv = {len(css_ini)+len(css_int)+len(css_adv)}")
