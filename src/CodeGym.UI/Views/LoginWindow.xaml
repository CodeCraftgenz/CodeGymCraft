<ui:FluentWindow x:Class="CodeGym.UI.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        Title="CodeGym Offline - Ativação"
        Width="480" Height="580"
        MinWidth="480" MinHeight="580"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        ExtendsContentIntoTitleBar="True">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <ui:TitleBar Grid.Row="0" Title="" ShowMaximize="False" ShowMinimize="False" />

        <StackPanel Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Center"
                    MaxWidth="360" Margin="40,0">

            <!-- Logo -->
            <Image Source="/Resources/Logo.png"
                   Width="120" Height="120"
                   Margin="0,0,0,16"
                   RenderOptions.BitmapScalingMode="HighQuality" />

            <TextBlock Text="CodeGym Offline"
                       FontSize="28" FontWeight="Bold"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,4" />

            <TextBlock Text="Ative sua licença para começar"
                       FontSize="14" Opacity="0.55"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,32" />

            <!-- Email -->
            <TextBlock Text="E-mail da compra" FontSize="13" FontWeight="SemiBold"
                       Margin="0,0,0,6" />
            <ui:TextBox x:Name="EmailTextBox"
                        PlaceholderText="seu@email.com"
                        FontSize="14"
                        Margin="0,0,0,20"
                        KeyDown="EmailTextBox_KeyDown" />

            <!-- Botão Ativar -->
            <ui:Button x:Name="ActivateButton"
                       Content="Ativar Licença"
                       Appearance="Primary"
                       HorizontalAlignment="Stretch"
                       FontSize="15"
                       Padding="0,12"
                       Click="ActivateButton_Click"
                       Icon="{ui:SymbolIcon Key24}" />

            <!-- Loading -->
            <StackPanel x:Name="LoadingPanel" Orientation="Vertical"
                        HorizontalAlignment="Center"
                        Margin="0,16,0,0"
                        Visibility="Collapsed">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <ui:ProgressRing Width="20" Height="20" IsIndeterminate="True" />
                    <TextBlock x:Name="LoadingText" Text="Verificando licença..." FontSize="13" Opacity="0.6"
                               VerticalAlignment="Center" Margin="10,0,0,0" />
                </StackPanel>
                <TextBlock x:Name="LoadingSubText"
                           Text="O servidor pode levar alguns segundos para responder..."
                           FontSize="11" Opacity="0.4"
                           HorizontalAlignment="Center"
                           Margin="0,6,0,0"
                           Visibility="Collapsed" />
                <ui:Button x:Name="SkipButton"
                           Content="Cancelar"
                           Appearance="Secondary"
                           HorizontalAlignment="Center"
                           FontSize="12"
                           Padding="16,4"
                           Margin="0,8,0,0"
                           Visibility="Collapsed"
                           Click="SkipButton_Click" />
            </StackPanel>

            <!-- Mensagem de erro/sucesso -->
            <Border x:Name="MessageBorder" CornerRadius="8" Padding="12,10"
                    Margin="0,16,0,0" Visibility="Collapsed">
                <TextBlock x:Name="MessageText" FontSize="13"
                           TextWrapping="Wrap" TextAlignment="Center" />
            </Border>

            <!-- Hardware ID (colapsado por padrão) -->
            <Expander Header="ID do Computador" Margin="0,20,0,0"
                      FontSize="12" Opacity="0.5">
                <TextBlock x:Name="HardwareIdText" FontSize="11"
                           TextWrapping="Wrap" Opacity="0.6"
                           Margin="0,4,0,0" />
            </Expander>

        </StackPanel>
    </Grid>
</ui:FluentWindow>
