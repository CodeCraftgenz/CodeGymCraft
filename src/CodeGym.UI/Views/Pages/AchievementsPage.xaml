<Page x:Class="CodeGym.UI.Views.Pages.AchievementsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      Title="Conquistas">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel MaxWidth="900" HorizontalAlignment="Center" Margin="24,16">

            <TextBlock Text="Conquistas"
                       FontSize="28" FontWeight="Bold"
                       Margin="0,0,0,4" />
            <TextBlock Text="{Binding ProgressText}"
                       FontSize="15" Opacity="0.6"
                       Margin="0,0,0,24" />

            <!-- Por categoria -->
            <ItemsControl ItemsSource="{Binding Categories}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Margin="0,0,0,20">
                            <!-- Nome da categoria -->
                            <TextBlock Text="{Binding Name}"
                                       FontSize="18" FontWeight="SemiBold"
                                       Margin="0,0,0,10" />

                            <!-- Badges da categoria -->
                            <ItemsControl ItemsSource="{Binding Badges}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Columns="4" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border CornerRadius="8" Padding="16" Margin="4"
                                                Background="{Binding BackgroundBrush}"
                                                Opacity="{Binding DisplayOpacity}"
                                                MinHeight="140">
                                            <StackPanel HorizontalAlignment="Center">
                                                <TextBlock Text="{Binding Icon}"
                                                           FontSize="36"
                                                           HorizontalAlignment="Center"
                                                           Margin="0,0,0,8" />
                                                <TextBlock Text="{Binding Name}"
                                                           FontSize="14" FontWeight="SemiBold"
                                                           HorizontalAlignment="Center"
                                                           TextAlignment="Center" />
                                                <TextBlock Text="{Binding Description}"
                                                           FontSize="11" Opacity="0.7"
                                                           TextWrapping="Wrap"
                                                           TextAlignment="Center"
                                                           Margin="0,4,0,0" />
                                                <TextBlock Text="{Binding UnlockedText}"
                                                           FontSize="10" Opacity="0.5"
                                                           HorizontalAlignment="Center"
                                                           Margin="0,6,0,0" />
                                            </StackPanel>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

        </StackPanel>
    </ScrollViewer>
</Page>
